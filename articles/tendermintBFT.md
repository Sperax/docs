# Why Sperax? BFT Security Comparison (1) - Tendermint

BFT (Byzantine Fault Tolerance) protocols, are sets of rules based on which blockchains are built such that they are able to function desirably as a distributed system. For a better understanding of BFT and the different challenges in designing BFT protocols based on networks, check out our previous article on [BFT and Synchronous and Asynchronous Networks](https://medium.com/sperax/bft-and-synchronous-and-asynchronous-networks-97b8a10430e5). The security of various BFT protocols can be quantified by mathematically identifying various error thresholds, such as the proportion of unresponsive or malicious nodes that a system based on said protocol can handle, given certain assumptions about the underlying network are true. 

## Tendermint

In this article, we will be taking a closer look at **Tendermint**. Tendermint is an organization that is working on developing software, upon which blockchain systems and distributed networks can be built in a secure manner. One of the main products that Tendermint is working on is **Tendermint Core**, which is middleware that is a combination of two protocols: one that helps networks come to **consensus** in Proof-of-Stake (PoS) blockchains, and another that allows for **peer-to-peer** communication or networking. Tendermint Core has been used by many interesting projects such as Oasis Labs and Binance DEX, and according to recent statistics, is being used by around 40% of PoS blockchain systems. 

## BFT in Tendermint

One of Tendermint Core’s central goals is providing BFT to the blockchain systems that use it, in order to make the system more resistant against malfunctioning and malicious behavior. Given the importance that BFT protocols hold in ensuring proper execution of consensus mechanisms and the atomicity of records on the chain, that allow for security and scalability,  it is important to evaluate their security. 

In a paper titled [Byzantine Fault Tolerance in Partially Connected Asynchronous Networks](https://eprint.iacr.org/2019/1460.pdf) published in the International Association for Cryptologic Research archives, Dr. Yongge Wang of UNC analyzes the security of various BFT protocols including the one implemented by Tendermint Core. The paper gives us an understanding of the assumptions that Tendermint’s BFT is based on, as well as a mathematical analysis of the security of the protocol. 

The first point to note is the network type that Tendermint Core assumes for systems built on it. The assumed network in Tendermint is an asynchronous network with a Global Standardization Time (GST). This means that until an unknown time (the GST) the network behaves in an asynchronous manner, after which it behaves like a synchronous network and communications are assumed to go through. Moreover, Tendermint’s protocol assumes that every single pair of nodes has a reliable point-to-point communication channel. This is a very strong assumption in our model of the public internet, and may not always hold true, for example during a Denial of Service attack. 
However, Dr. Wang states that Tendermint’s protocols face security issues, even after taking their strong assumptions into account. Tendermint’s protocol consists of 3 steps at each block height: propose, prevote and precommit, where the initiator of the round is determined by a public function. A common metric of security for BFT protocols is for a network with 3t + 1 notes to be able to come to consensus despite attacks carried out by t malicious nodes. In the paper,  Dr. Wang describes an attack in a four node system (t has been set to 1 in this case) , with one malicious node as the attacker. In this case, if the malicious node is deemed as the initiator, it is successfully able to carry out an attack in which each node has locked a different value before the GST is reached, and therefore consensus has been sabotaged. 

## Counter Proposal

Sperax proposes SperaBFT, a protocol that is based on a more realistic model of the internet, and provides a more secure method of consensus. The protocol assumes a network which operates in alternating synchronous and asynchronous stages with unknown GST’s each time, and doesn’t make similar assumptions of secure network channels for each node pair in the system, therefore taking the possibility of Denial of Service attack into account. The protocol itself is a blockchain version of the DLS protocol in literature by Dwork, Lynch and Stockmeyer, and is hence named the BDLS protocol. It involves using Verifiable Random Functions (VRF’s) to ensure that there is unpredictability of the identity of the producer of the next block, and generating an ordering for candidate child blocks using some metric, for example the stake of the producer. The result is a protocol that achieves desired liveness and safety requirements, in fewer communications than other protocols including Tendermint’s BFT. 
